(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{114:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(11),s=c.n(r),i=(c(91),c(7)),o=(c(92),c(14)),l=c(1);function j(){return Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:"localHost"}),Object(l.jsx)("p",{children:"a new, colorful chatting experience"})]})}var u=c(17),b=c(10),d=c(143);function h(e){var t=e.name;return Object(l.jsxs)(d.a,{className:"lower",children:[Object(l.jsxs)("h2",{children:["Welcome ",t,"!"]}),Object(l.jsx)("p",{children:"You're free to start chatting!"})]})}var O=c(16),p=c(13),m=c.n(p),x=c(23),f="http://localhost:3000",g={"Content-Type":"application/json",Accept:"application/json"};function v(e,t,c,n){return y.apply(this,arguments)}function y(){return(y=Object(x.a)(m.a.mark((function e(t,c,n,a){var r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/").concat(c),{method:"POST",headers:g,body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:(s=e.sent).id?a(s):(console.log(s.error),n(s.error));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,c,n,a){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(m.a.mark((function e(t,c,n,a,r){var s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/").concat(c,"/{").concat(n,"}"),{method:"PATCH",headers:g,body:JSON.stringify(t)});case 2:return s=e.sent,e.next=5,s.json();case 5:(i=e.sent).id?r(i):(console.log(i.error),a(i.error));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.Fragment;var N=c(149);function w(e){var t=e.user,c=e.setUser,a=t.name,r=(t.image_url,t.id,Object(n.useState)(null)),s=Object(i.a)(r,2),o=s[0],j=s[1],p=Object(n.useState)({email:"",password:""}),m=Object(i.a)(p,2),x=m[0],f=m[1],g=function(e){return f(Object(b.a)(Object(b.a)({},x),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(l.jsx)("div",{children:"Guest"!==a?Object(l.jsx)(h,{name:a}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(d.a,{className:"signUpLogIn",children:[Object(l.jsx)("img",{alt:"logo",src:"https://i.imgur.com/k47edoR.png"}),Object(l.jsx)("h2",{children:"Log In to start chatting"}),o?Object(l.jsx)("p",{children:o}):null,Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(x,"log_in",j,c)},children:[Object(l.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(l.jsx)("input",{value:x.email,onChange:g,type:"text",name:"email",placeholder:"Email Address"}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"shift-left-pw",children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(l.jsx)("input",{value:x.password,onChange:g,type:"password",name:"password",placeholder:"Password"})]}),Object(l.jsx)("br",{}),Object(l.jsx)(N.a,{type:"submit",color:"primary",variant:"contained",children:"Submit"})]}),Object(l.jsxs)("p",{children:["Don't have a log-in? ",Object(l.jsx)(O.b,{to:"/signup",children:"Sign-Up here!"})]})]})})})}function S(){var e={name:"",email:"",password:"",confirmPassword:"",age_group:"--select one--"},t=Object(o.f)(),c=function(e){return t.push("/")},a=Object(n.useState)(e),r=Object(i.a)(a,2),s=r[0],j=r[1],h=Object(n.useState)(null),O=Object(i.a)(h,2),p=O[0],m=O[1],x=function(e){return j(Object(b.a)(Object(b.a)({},s),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(l.jsx)("div",{children:Object(l.jsxs)(d.a,{className:"signUpLogIn",children:[Object(l.jsx)("img",{alt:"logo",src:"https://i.imgur.com/k47edoR.png"}),Object(l.jsx)("h2",{children:"Sign Up!"}),p?Object(l.jsx)("p",{children:p}):null,Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),m(null),s.password===s.confirmPassword?v(s,"users",m,c).then((function(){null===p&&j(e)})):m("These passwords do not match")},children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(l.jsx)("input",{onChange:x,autocomplete:"name",type:"text",value:s.name,name:"name",placeholder:"Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(l.jsx)("input",{onChange:x,value:s.email,autocomplete:"email",type:"text",name:"email",placeholder:"Email Address"}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"shift-left-pw",children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(l.jsx)("input",{value:s.password,onChange:x,type:"password",name:"password",placeholder:"Password"}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"shift-left-pw-conf",children:[Object(l.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password: "}),Object(l.jsx)("input",{value:s.confirmPassword,onChange:x,autocomplete:"password",type:"password",name:"confirmPassword",placeholder:"Re-enter your password"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"age_group",children:"Select Age Group: "}),Object(l.jsxs)("select",{value:s.age_group,onChange:x,name:"age_group",children:["Age Group",Object(l.jsx)("option",{children:"--select one--"}),Object(l.jsx)("option",{value:"Family",children:"Family"}),Object(l.jsx)("option",{value:"Adult",children:"Adult"})]})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)(N.a,{type:"submit",color:"primary",variant:"contained",children:"Submit"})]}),Object(l.jsx)("p",{children:"*Note: Age group will determine which chatrooms you can access"})]})})}var k=c(51),F=c.n(k);function A(e){var t=e.userAgeGroup,c=e.userId,a=e.userName,r={title:"",description:"",location:"",age_group:"--select one--",admin_id:c},s=Object(o.f)(),j=Object(n.useState)(r),h=Object(i.a)(j,2),O=h[0],p=h[1],m=Object(n.useState)(null),x=Object(i.a)(m,2),f=x[0],g=x[1],y=function(e){return p(Object(b.a)(Object(b.a)({},O),{},Object(u.a)({},e.target.name,e.target.value)))},_=function(e){return s.push("/find")};return Object(n.useEffect)((function(){if("Guest"===a)return s.push("/")}),[a,s]),Object(l.jsx)("div",{children:Object(l.jsxs)(d.a,{className:"divider",children:[Object(l.jsx)("h2",{children:"Create Chat Room!"}),f?Object(l.jsx)("p",{children:f}):null,Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(O,"chats",g,_)},children:[Object(l.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(l.jsx)("input",{value:O.title,onChange:y,type:"text",name:"title",placeholder:"Enter Title"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(l.jsx)("input",{value:O.description,onChange:y,type:"textarea",name:"description",placeholder:"Enter Description"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"location",children:"Location: "}),Object(l.jsx)("input",{value:O.location,onChange:y,type:"text",name:"location",placeholder:"Enter Location"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"age_group",children:"Select Age Group: "}),Object(l.jsxs)("select",{value:O.age_group,onChange:y,name:"age_group",children:[Object(l.jsx)("option",{children:"--select one--"}),"Adult"===t?Object(l.jsx)("option",{value:"Adult",children:"Adult"}):null,Object(l.jsx)("option",{value:"Family",children:"Family"})]}),Object(l.jsx)("br",{}),Object(l.jsxs)(N.a,{className:"floatButton",type:"submit",variant:"contained",children:[Object(l.jsx)(F.a,{})," "]})]})]})})}var E=c(27),B=c(52),I=c(148);function L(e){var t=e.viewUser,c=t.name,n=t.created_at,a=(t.email,t.image_url),r=t.text_color,s=t.app_color,i=t.bio;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{style:{backgroundColor:s,color:r},children:[Object(l.jsxs)("p",{children:["User: ",c," "]}),Object(l.jsx)("img",{alt:c,src:a}),Object(l.jsxs)("p",{children:["Bio: ",i]}),Object(l.jsxs)("p",{children:[" Member Since: ",new Date(n).toDateString().slice(4)]})]})})}var T=c(147),D=c(38),G=c.n(D),P=c(65),U=c.n(P);function R(e){e.chatAG;var t=e.cable,c=e.userId,a=e.setViewUser,r=Object(n.useRef)(),s=Object(n.useState)(!1),o=Object(i.a)(s,2),j=o[0],u=o[1],b={fontSize:20};function h(){return(h=Object(x.a)(m.a.mark((function e(){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/messages/").concat(t.id),{method:"DELETE",headers:g});case 2:return c=e.sent,e.next=5,c.json();case 5:(n=e.sent).error&&console.log(n.error);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(x.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/reactions/").concat(t),{method:"DELETE",headers:g});case 2:return c=e.sent,e.next=5,c.json();case 5:(n=e.sent).error&&console.log(n.error);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(e){return console.log(e)},y=function(e){return e},_=function(e){v({message_id:t.id,user_id:c,reaction_type:e.target.value},"reactions",p,y)},C=t.reactions.map((function(e){return Object(l.jsxs)("p",{className:"reactions",onClick:e.user_id===c?function(){return function(e){return O.apply(this,arguments)}(e.id)}:null,children:[Object(l.jsxs)("button",{style:b,className:"reactBtn",children:["Sad"===e.reaction?"\ud83d\ude22":"Happy"===e.reaction?"\ud83d\ude00":"Love"===e.reaction?"\ud83e\udd70":"Angry"===e.reaction?"\ud83d\ude21":"Gross"===e.reaction?"\ud83e\udd22":null," "]}),"from ",Object(l.jsx)("img",{alt:"reaction",className:"msgImg",src:e.user_image})]},e.id)}));function w(){return(w=Object(x.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/users/").concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:(n=e.sent).id?a(n):alert("Status ".concat(n.status," : ").concat(n.error));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsx)(d.a,{variant:"outlined",style:{borderRadius:"20%"},className:"divider",children:Object(l.jsxs)("div",{className:"padding",style:{backgroundColor:t.user.app_color,color:t.user.text_color},children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("img",{onClick:c!==t.user.id?function(){return function(e){return w.apply(this,arguments)}(t.user.id)}:null,className:"msgImg",alt:"".concat(t.user.name),src:t.user.image_url})," ",t.user.name]})," ",Object(l.jsxs)("p",{children:[t.content," "]})," ",t.reactions.length>0?C:null,Object(l.jsxs)("p",{className:"font-small",children:["@ ",new Date(t.created_at).toLocaleString()," "]}),c===t.user.id?Object(l.jsxs)(N.a,{type:"submit",variant:"contained",onClick:function(){return h.apply(this,arguments)},children:[Object(l.jsx)(G.a,{})," "]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(N.a,{type:"submit",variant:"contained",onClick:function(){return u(!j)},ref:r,id:"".concat(t.id,"Reaction"),children:Object(l.jsx)(U.a,{})}),Object(l.jsx)(T.a,{id:"".concat(t.id,"Reaction"),anchorEl:r.current,placement:"right-start",open:j,children:Object(l.jsxs)("span",{className:"reactWrapper",children:[Object(l.jsx)("button",{style:b,className:"reactBtn",onClick:_,value:"Happy",children:"\ud83d\ude03"}),Object(l.jsx)("button",{style:b,className:"reactBtn",onClick:_,value:"Sad",children:"\ud83d\ude22"}),Object(l.jsx)("button",{style:b,className:"reactBtn",onClick:_,value:"Love",children:"\ud83e\udd70"}),Object(l.jsx)("button",{style:b,className:"reactBtn",onClick:_,value:"Angry",children:"\ud83d\ude21"}),Object(l.jsx)("button",{style:b,className:"reactBtn",onClick:_,value:"Gross",children:"\ud83e\udd22"})]})})]})]},t.id)})}var H=c(68),J=c.n(H),V=c(67),W=c.n(V),M=c(54),q=c.n(M),z=c(53),Y=c.n(z),K=c(69),Q=c.n(K);function X(e){var t=e.userId,c=e.userName,a=Object(o.g)().id,r=Object(o.f)(),s={content:"",user_id:t,chat_id:a},j={name:"",email:"",image_url:"",text_color:"",app_color:"",bio:""},h=Object(n.useState)(null),O=Object(i.a)(h,2),p=O[0],y=O[1],C=Object(n.useState)({admin:{name:"",email:""}}),w=Object(i.a)(C,2),S=w[0],k=w[1],F=Object(n.useState)(s),A=Object(i.a)(F,2),T=A[0],D=A[1],P=Object(n.useState)([]),U=Object(i.a)(P,2),H=U[0],V=U[1],M=Object(n.useState)(!1),z=Object(i.a)(M,2),K=z[0],X=z[1],Z=Object(n.useState)(!1),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ce=Object(n.useState)(null),ne=Object(i.a)(ce,2),ae=ne[0],re=ne[1],se=Object(n.useState)(j),ie=Object(i.a)(se,2),oe=ie[0],le=ie[1],je=Object(n.useRef)();Object(n.useEffect)((function(){je.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[H]),Object(n.useEffect)((function(){if("Guest"===c)return r.push("/");function e(){return(e=Object(x.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/chats/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,k(c),re(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,c,a]);var ue=function(e){return console.log(e)},be=function(e){return e},de=function(e){te(!ee)},he=function(e){return re(Object(b.a)(Object(b.a)({},ae),{},Object(u.a)({},e.target.name,e.target.value)))};function Oe(){return(Oe=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/chats/").concat(a),{method:"DELETE",headers:g});case 2:e.sent,setTimeout((function(){return r.push("/find")}),1e3);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=H.map((function(e){return Object(l.jsx)("div",{className:t===e.user.id?"msg-right":"msg-left",children:Object(l.jsx)(R,{chatAG:S.age_group,cable:e,setViewUser:le,userId:t},e.id)})}));return Object(l.jsxs)(d.a,{className:"chatPage",style:{backgroundColor:S.room_color,color:S.text_color},children:[ee?Object(l.jsxs)(d.a,{children:[Object(l.jsx)("h2",{children:"Update Profile"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(ae,"chats",a,ue,de)},children:[Object(l.jsxs)("div",{className:"shift-right",children:[Object(l.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(l.jsx)("input",{onChange:he,name:"description",type:"text",value:ae.description}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"location",children:"Location: "}),Object(l.jsx)("input",{onChange:he,name:"location",type:"textarea",value:ae.location})]}),Object(l.jsx)("label",{htmlFor:"room_color",children:"Room Color: "}),Object(l.jsx)("input",{type:"color",name:"room_color",value:ae.room_color,onChange:he}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"text_color",children:"Text & Box Color: "}),Object(l.jsx)("input",{type:"color",name:"text_color",value:ae.text_color,onChange:he}),Object(l.jsx)("br",{}),Object(l.jsx)(N.a,{type:"submit",variant:"contained",children:Object(l.jsx)(Y.a,{})})]})]}):Object(l.jsxs)(d.a,{className:"divider",children:[t===S.admin.id?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(N.a,{type:"submit",className:"floatButton",variant:"contained",onClick:function(){return Oe.apply(this,arguments)},children:[" ",Object(l.jsx)(G.a,{})," "]})," ",Object(l.jsxs)(N.a,{type:"submit",className:"floatButton",variant:"contained",onClick:function(){return te(!ee)},children:[" ",Object(l.jsx)(q.a,{})]})," "]}):null,Object(l.jsxs)(N.a,{className:"floatButton",onClick:function(){return r.goBack()},type:"submit",variant:"contained",children:[" ",Object(l.jsx)(W.a,{})," "]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)("h2",{children:["Welcome to ",S.title," "]}),Object(l.jsxs)("h5",{children:["Description: ",S.description]}),Object(l.jsxs)("h3",{children:["Location: ",S.location," "]}),Object(l.jsxs)("h3",{children:["For further questions please reach out to channel admin: ",S.admin.name," at"," ",Object(l.jsx)("a",{href:"mailto:".concat(S.admin.email),children:S.admin.email})]})]}),Object(l.jsx)("h3",{children:"Family"===S.age_group?"This room is intended for all ages":"This room is not intended for young children"}),""!==oe.name?Object(l.jsx)("div",{className:"viewerBox",children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)(N.a,{type:"submit",variant:"contained",className:"floatButton",onClick:function(){return le(j)},children:Object(l.jsx)(J.a,{})}),Object(l.jsx)(L,{reset:j,setViewUser:le,viewUser:oe})]})}):null,Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Messages"}),Object(l.jsxs)("div",{ref:je,className:"messageContainer",children:[Object(l.jsx)(d.a,{style:{backgroundColor:S.text_color},className:"inner-divider",children:Object(l.jsxs)(B.ActionCable,{channel:{channel:"ChatsChannel",room_title:S.title,user:c},onReceived:function(e){var t=e.message;if(t.delete){var c=H.filter((function(e){return e.id!==t.id}));V(c)}else{if(t.delete_channel)return X(!K),r.push("/find");if(t.reaction){var n=H.map((function(e){return e.id!==t.message_id||e.reactions.map((function(e){return e.user})).includes(t.user)?e:Object(b.a)(Object(b.a)({},e),{},{reactions:[].concat(Object(E.a)(e.reactions),[t])})}));V(Object(E.a)(n))}else if(t.delete_reaction){var a=H.map((function(e){return e.id===t.message_id?Object(b.a)(Object(b.a)({},e),{},{reactions:e.reactions.filter((function(e){return e.id!==t.id}))}):e}));V(a)}else t.patch_chat?k(Object(b.a)(Object(b.a)({},S),{},{text_color:t.text_color,room_color:t.room_color,description:t.description,location:t.location})):H.map((function(e){return e.id})).includes(t.id)||V([].concat(Object(E.a)(H),[t]))}},children:[Object(l.jsx)("br",{}),pe]})}),Object(l.jsx)("form",{className:"messageText",onSubmit:function(e){if(e.preventDefault(),y(null),"Family"===S.age_group){[/s+h+i+t+/gi,/f+u+c+k+/gi,/b+i+t+c+h+/gi].forEach((function(e){if(T.content.toLowerCase().match(e)){console.log("in here");var t=T.content.replaceAll(e,"****");T.content=t}}))}v(T,"messages",y,be),D(s)},children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)(I.a,{className:"expander",multiline:!0,rows:3,variant:"outlined",value:T.content,onChange:function(e){return D(Object(b.a)(Object(b.a)({},T),{},{content:e.target.value}))},name:"messageText",type:"textarea",placeholder:"Send .."}),Object(l.jsxs)(N.a,{className:"expander",type:"submit",variant:"contained",children:[Object(l.jsx)(Q.a,{})," "]}),p?Object(l.jsx)("p",{children:p}):null]})})]})]})]})}var Z=c(70),$=c.n(Z),ee=c(71),te=c.n(ee),ce=c(72),ne=c.n(ce),ae=c(73),re=c.n(ae);function se(e){var t=e.userId,c=e.setUser,n=e.guestState,a=e.userImage,r=e.styleObj,s=Object(o.f)();return Object(l.jsx)("nav",{children:Object(l.jsxs)(d.a,{style:r,children:[" ",Object(l.jsx)(N.a,{type:"submit",variant:"contained",children:Object(l.jsxs)(O.c,{to:"/",children:[" ",Object(l.jsx)($.a,{})]})})," ","|"," ",Object(l.jsx)(N.a,{type:"submit",variant:"contained",children:Object(l.jsxs)(O.c,{to:"/profile/".concat(t),children:[Object(l.jsx)(te.a,{})," "]})})," ","|"," ",Object(l.jsxs)(N.a,{type:"submit",variant:"contained",children:[Object(l.jsxs)(O.c,{to:"/find",children:[" ",Object(l.jsx)(ne.a,{})," "]})," "]})," ","|"," ",Object(l.jsx)(N.a,{type:"submit",variant:"contained",children:Object(l.jsx)(O.c,{to:"/createchat",children:Object(l.jsx)(F.a,{})})})," ","|"," ",Object(l.jsx)(N.a,{type:"submit",variant:"contained",children:Object(l.jsx)(O.b,{onClick:function(){c(n),s.push("/")},children:Object(l.jsx)(re.a,{})})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("img",{src:a})]})})}function ie(e){var t=e.user,c=e.setUser,a=e.guestState,r=t.name,s=t.id,j=t.age_group,h=t.email,O=t.bio,p=(t.image_url,t.app_color,t.text_color,Object(n.useState)(!1)),v=Object(i.a)(p,2),y=v[0],C=v[1],w=Object(n.useState)(!1),S=Object(i.a)(w,2),k=S[0],F=S[1],A=Object(n.useState)(t),E=Object(i.a)(A,2),B=E[0],I=E[1],L=Object(o.f)();function T(){return(T=Object(x.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/users/").concat(s),{method:"DELETE",headers:g});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).error?alert(n.error):(C(!y),setTimeout((function(){c(a),L.push("/")}),1e3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){console.log(e.target.value),I(Object(b.a)(Object(b.a)({},B),{},Object(u.a)({},e.target.name,e.target.value)))}var P=function(e){return console.log(e)},U=function(e){c(e),F(!k)};return Object(n.useEffect)((function(){if("Guest"===r)return L.push("/")}),[r,L]),Object(l.jsx)("div",{children:y?Object(l.jsx)("p",{children:"We're sorry to see you go!"}):Object(l.jsxs)(l.Fragment,{children:[k?Object(l.jsxs)(d.a,{variant:"outlined",className:"divider",children:[Object(l.jsx)("h2",{children:"Update Profile"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(B,"users",s,P,U)},children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(l.jsx)("input",{onChange:D,name:"name",type:"text",value:B.name}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(l.jsx)("input",{onChange:D,name:"email",type:"text",value:B.email}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"shift-right",children:[Object(l.jsx)("label",{htmlFor:"bio",children:"Bio: "}),Object(l.jsx)("input",{onChange:D,name:"bio",type:"textarea",value:B.bio})]}),Object(l.jsx)("label",{htmlFor:"image_url",children:"Avatar: "}),Object(l.jsx)("input",{onChange:D,name:"image_url",type:"textarea",value:B.image_url}),Object(l.jsxs)("div",{className:"shift-left",children:[Object(l.jsx)("label",{htmlFor:"app_color",children:"App Color: "}),Object(l.jsx)("input",{type:"color",name:"app_color",value:B.app_color,onChange:D}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"text_color",children:"Text Color: "}),Object(l.jsx)("input",{type:"color",name:"text_color",value:B.text_color,onChange:D})]}),Object(l.jsxs)(N.a,{type:"submit",variant:"contained",className:"floatButton",children:[" ",Object(l.jsx)(Y.a,{})]})]})]}):Object(l.jsxs)("div",{className:"divider",children:[Object(l.jsxs)("h2",{children:["User Profile for ",r]}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["Email:",h]})," ",Object(l.jsx)("br",{})," ",Object(l.jsxs)("li",{children:["Bio: ",O]})," ",Object(l.jsx)("br",{}),Object(l.jsxs)("li",{children:["Age Group: ",j]})]})]}),Object(l.jsx)(N.a,{type:"submit",variant:"contained",onClick:function(){return F(!k)},children:Object(l.jsx)(q.a,{})}),Object(l.jsx)(N.a,{type:"submit",variant:"contained",onClick:function(){return T.apply(this,arguments)},children:Object(l.jsx)(G.a,{})})]})})}var oe=c(78),le=c.n(oe),je=c(77),ue=c.n(je),be=c(74),de=c.n(be),he=c(75),Oe=c.n(he),pe=c(76),me=c.n(pe);function xe(e){var t=e.id,c=e.title,a=e.admin,r=e.location,s=e.description,o=e.age_group,j=e.userId,u=Object(n.useRef)(),b=Object(n.useState)(!1),h=Object(i.a)(b,2),p=h[0],m=h[1];return Object(l.jsx)("div",{className:"divider",children:Object(l.jsx)(d.a,{children:Object(l.jsxs)("li",{children:["Adult"===o?Object(l.jsxs)(N.a,{className:"floatLeftButton",children:[" ",Object(l.jsx)(de.a,{})," "]}):Object(l.jsxs)(N.a,{className:"floatLeftButton",children:[" ",Object(l.jsx)(Oe.a,{})," "]}),a.id===j?Object(l.jsxs)(N.a,{className:"floatLeftButton",children:[Object(l.jsx)(me.a,{})," "]}):null,Object(l.jsx)(N.a,{onClick:function(){return m(!p)},ref:u,className:"floatButton",type:"submit",variant:"contained",children:Object(l.jsxs)(O.b,{children:[" ",Object(l.jsx)(ue.a,{})]})}),Object(l.jsxs)(T.a,{anchorEl:u.current,placement:"top",open:p,children:[" ",Object(l.jsxs)(d.a,{className:"divider",children:[Object(l.jsxs)("p",{children:["Location: ",r]}),Object(l.jsxs)("p",{children:["Description: ",s]}),Object(l.jsxs)("p",{children:["Admin: ",a.name]})]})]}),Object(l.jsx)(N.a,{className:"floatButton",type:"submit",variant:"contained",children:Object(l.jsxs)(O.b,{to:"/chat/".concat(c,"/").concat(t),children:[" ",Object(l.jsx)(le.a,{})]})}),Object(l.jsxs)("span",{children:[" Title: ",c.length>30?"".concat(c.slice(0,30),"..."):c," "]})]})})})}var fe=c(79),ge=c.n(fe);function ve(e){var t=e.userAgeGroup,c=e.userName,a=e.userId,r=Object(n.useState)(null),s=Object(i.a)(r,2),j=s[0],u=s[1],h=Object(o.f)();function O(){return p.apply(this,arguments)}function p(){return(p=Object(x.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("loading"),e.next=3,fetch("".concat(f,"/chats"));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,_(c),u(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){if("Guest"===c)return h.push("/");O()}),[c,h]);var g=Object(n.useState)([]),v=Object(i.a)(g,2),y=v[0],_=v[1],C=y.map((function(e){return Object(n.createElement)(xe,Object(b.a)(Object(b.a)({},e),{},{key:e.id,userId:a}))})),w=y.filter((function(e){return"Family"===e.age_group})).map((function(e){return Object(n.createElement)(xe,Object(b.a)(Object(b.a)({userId:a},e),{},{key:e.id}))}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Available Chat Rooms : "}),Object(l.jsxs)(d.a,{children:[Object(l.jsx)(N.a,{className:"floatButton",type:"submit",variant:"contained",onClick:O,children:Object(l.jsx)(ge.a,{})}),j?Object(l.jsx)("p",{children:"Loading ..."}):null,"Family"===t?Object(l.jsx)("h4",{children:"Only displaying family friendly chat-rooms"}):null,Object(l.jsx)("ul",{children:"Family"===t?w:C})]})]})}function ye(){return Object(l.jsxs)("footer",{className:"footer",children:[Object(l.jsx)("br",{}),Object(l.jsxs)(d.a,{className:"divider",children:[Object(l.jsx)("img",{alt:"logo",className:"logo",src:"https://i.imgur.com/k47edoR.png"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"created by: Grant Cloyd "}),Object(l.jsxs)("li",{children:[" ",Object(l.jsx)("a",{href:"mailto:dgcloyd@gmail.com",children:" dgcloyd@gmail.com "})]}),Object(l.jsx)("li",{children:"//Flatiron Phase 4 "}),Object(l.jsx)("li",{})]})]})]})}var _e=function(){var e={name:"Guest",id:"",image_url:"",bio:"",age_group:"",app_color:"",text_color:""},t=Object(n.useState)(e),c=Object(i.a)(t,2),a=c[0],r=c[1],s={backgroundColor:a.app_color,color:a.text_color};return"Guest"===a.name?Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:function(){return Object(l.jsx)(w,{user:a,setUser:r})}}),Object(l.jsx)(o.a,{path:"/signup",component:S})]}):Object(l.jsx)(o.c,{children:Object(l.jsxs)("div",{style:s,className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(se,{userId:a.id,userImage:a.image_url,setUser:r,guestState:e,styleObj:s}),Object(l.jsx)(o.a,{exact:!0,path:"/",component:function(){return Object(l.jsx)(w,{user:a,setUser:r})}}),Object(l.jsx)(o.a,{path:"/createchat",component:function(){return Object(l.jsx)(A,{userAgeGroup:a.age_group,userName:a.name,userId:a.id})}}),Object(l.jsx)(o.a,{path:"/find",component:function(){return Object(l.jsx)(ve,{userId:a.id,userAgeGroup:a.age_group,userName:a.name})}}),Object(l.jsx)(o.a,{path:"/chat/:title/:id",component:function(){return Object(l.jsx)(X,{userName:a.name,userId:a.id,userAppColor:a.app_color,userTextColor:a.text_color})}}),Object(l.jsx)(o.a,{path:"/profile/:id",component:function(){return Object(l.jsx)(ie,{user:a,setUser:r,guestState:e})}})]}),Object(l.jsx)(ye,{})]})})},Ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,150)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(B.ActionCableProvider,{url:"ws://localhost:3000/cable",children:Object(l.jsx)(O.a,{children:Object(l.jsx)(_e,{})})})}),document.getElementById("root")),Ce()},91:function(e,t,c){},92:function(e,t,c){}},[[114,1,2]]]);
//# sourceMappingURL=main.b86dd64d.chunk.js.map